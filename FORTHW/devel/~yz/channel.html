<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link rel="stylesheet" href="forth2.css" type="text/css">
<title>Широковещательные каналы</title>
</head>

<body background="pic/grid.gif">

 <h1 class=lib><u>channel.f</u>
 &nbsp;Широковещательные каналы
 </h1>



<p>Каналы предназначены для обмена информацией между программами. Обмен в 
основном идет в одну сторону - одна из программ, владеющая каналом, 
записывает в него данные, другие программы получают уведомление о новом 
сообщении и могут считать его. В принципе, программ, посылающих сообщение, 
также может быть несколько. Каналы реализованы как конструкция из 
системных объектов Windows NT - нескольких объединенных объектов разделяемой памяти, 
события и взаимного исключения. Широковещательные каналы рассылают 
сообщения как в рамках одной терминальной сессии Windows XP, так и между 
терминальными сессиями.
<br><br>


<DIV class=word>
<u>init-channels</u> <i>(  )</i>
<br>

Инициализирует систему каналов. Слово должно вызываться до начала работы.
</DIV>


<DIV class=word>
<u>create-channel</u> <i>( zname -- ch/0 )</i>
<br>

Создает канало обмена с указанным именем, если такого канала до этого не 
существовало, и возвращает его дескриптор. Если такой канал уже есть, 
просто открывает его.
</DIV>


<DIV class=word>
<u>delete-channel</u> <i>( ch --  )</i>
<br>

Удаляет существующий канал. Если это слово не будет вызвано явно, то 
система уничтожит канал после закрытия программы.
</DIV>


<DIV class=word>
<u>write-channel</u> <i>( a # ch --  )</i>
<br>

Записывает информацию в канал. В существующей реализации длина 
записываемой строки не должна быть более 100 байтов. 
</DIV>


<DIV class=word>
<u>read-channel</u> <i>( buf ch -- buf # )</i>
<br>

Ожидает появления данных в канале, затем копирует их в указанный буфер 
<i>buf</i>. Возвращает также длину данных. Поскольку слово при вызове 
сразу переходит в цикл ожидания, имеет смысл запускать его в отдельном 
потоке.
</DIV>

</body>
</html>

