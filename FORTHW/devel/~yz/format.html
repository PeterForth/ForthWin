<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link rel="stylesheet" href="forth.css" type="text/css">
<title>Format</title>
</head>

<body background="pic/grid.gif">

<h1 class=lib><u>format.f</u>
&nbsp;Форматирование строк
</h1>

<p>Библиотека предназначена для форматирования строк по образцу. Вид 
образцов придуман автором в соответствии с его вкусами и слабым влиянием языка Common Lisp. Если вам нужно 
форматирование строк в стиле С, используйте библиотеку <a 
href="printf.html">Printf.f</a>. Сформатированная строка по умолчанию 
размещается в статическом (но уникальном для каждого потока) буфере, поэтому вложенные вызовы <u><(</u> ... 
<u>)></u> будут затирать результаты работы друг друга. Если это 
нежелательно, предоставляйте для каждого вызова отдельный буфер.
</p>

<u>&lt;(</u> <i>( -- )</i>
<p>Начинает список вывода. Все последующие данные считаются аргументами. 
Результат будет записан в статический буфер.
</p>

<u>&lt;(?</u> <i>( a -- )</i>
<p>Начинает список вывода. Все последующие данные считаются аргументами.
Результат будет записан в указанный буфер.
</p>


<u>)&gt;</u> <i>( ... zformat -- z )</i>
<p>Заканчивает список вывода и форматирует строку согласно указанному
формату. 
</p>

<u>)&gt;.</u> <i>( ... zformat -- )</i>
<p>Заканчивает список вывода, форматирует строку согласно указанному
формату и выводит ее на консоль
</p>

<h2>Спецификаторы формата</h2>

Спецификатор имеет вид:
~<i>[</i>&lt;<i>]</i><i>[</i>0<i>]</i><i>[</i>длина<i>]</i>тип.
Необязательный знак "&lt;" указывает, что строка будет выравнена влево (по
умолчанию - вправо); "?" означает, что строка при выводе будет урезана до указанной <i>длины</i>
"0" означает, что строка будет дополнена до нужной
длины символами "0", а не пробелами. Строка будет иметь минимальную длину <i>Длина</i>, 
если не указан "?".
<i>Тип</i> обозначает тип выводимых данных:
<br><br>

<table border=1 width=70% bgcolor=#BBCCDD>
<colgroup span=1 width=10% align=center>
<tr><td><b>S</b><td>Строка ( a n -- )
<tr><td><b>Z</b><td>Asciiz-строка ( z -- )
<tr><td><b>C</b><td>Символ ( с -- )
<tr><td><b>/</b><td>Перевод строки ( -- )
<tr><td><b>'</b><td>Кавычка ( -- )
<tr><td><b>~</b><td>Тильда ( -- )
<tr><td><b>.</b><td>Символ с кодом "0" ( -- )
<tr><td><b>X</b><td>Пробелы ( -- ); <i>длина</i> обозначает количество
выводимых пробелов
<tr><td><b>N</b><td>Число ( n -- )
<tr><td><b>U</b><td>Число без знака ( u -- )
<tr><td><b>D</b><td>Число двойной длины ( d -- )
<tr><td><b>H</b><td>Число в 16-ной системе ( n -- )
</table>

<br><br>

<div class="e">
<font color=gray>Пример</font>
<br>
<tt>
<( " абвгд" 123 [CHAR] A 
<br>" Вот строка: ~Z. Вот число: ~N. А вот буква: ~C" )>
</tt>
</div>

</html>