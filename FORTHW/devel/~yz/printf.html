<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<link rel="stylesheet" href="forth.css" type="text/css">
<title>Форматный вывод</title>
</head>

<body background="pic/grid.gif">

<h1 class=lib><u>printf.f</u>
&nbsp;Библиотека форматного вывода
</h1>

Обрабатывает форматные строки в стиле Си
printf("%s","Hello word") - в таком вот духе. Собственно форматированием
занимается виндовая функция wvsprintf(). Обратите внимание - все слова библиотеки работают
со строками, заканчивающимися нулем, и требуют задания только адреса
строки. Определение таких ASCIIZ-строк находится в файле <a
href="lib/common.f">common.f</a>, а их описание - <a href="blank.html#22">здесь</a>.
</p>

<u>(|</u> <i>( -- )</i>
<p>Начало списка вывода. Все, помещенное на стек после вызова <u>(|</u>
считается аргументами.</p>

<u>|)</u> <i>( ... format -- str)</i>
<p>Отформатировать строку согласно формату <i>format</i>. Форматная строка - такая же, 
как в системной функции wvsprintf() или, что понятнее, такая же как в 
стандартной функции Си printf(). Форматированная строка, возвращаемая словом, 
находится в специальном буфере. Буфер только один, поэтому с вложенными 
вызовами форматирования ничего не получится.</p>

<u><|</u> <i>( n -- )</i>
<p>Начало списка вывода. На стеке уже находится <i>n</i> аргументов.</p>

<div class="e">
<font color=gray>Пример</font>
<br>
<tt>
(| " абвгд" 123 [CHAR] A 
<br>" Вот строка: %s. Вот число: %d. А вот буква: %c" |)
</tt>
</div>

</html>